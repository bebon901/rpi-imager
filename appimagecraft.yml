version: 1

project:
  name: org.raspberrypi.rpi-imager
  version_command: git describe --tags

build:
  cmake:
    source_dir: src/
    # You should also set your Qt6_ROOT here, like so:
    # extra_variables:
    #  - Qt6_ROOT=
  environment:
    BUILD_TYPE: MinSizeRel

scripts:
  post_build:
    - |
      sed -i 's|Name=Imager|Name=Raspberry Pi Imager|' AppDir/usr/share/applications/rpi-imager.desktop

appimage:
  linuxdeploy:
    plugins:
      - qt
    raw_environment:
      QML_SOURCES_PATHS: "\"$PROJECT_ROOT\"/src/qmlcomponents/"
